{% extends "base.html.twig" %}

{% block title %}Mes categories{% endblock %}

{% block body %}

            {% for message in app.flashes('success') %}

                <div class = "alert alert-success">
                    {{ message }}
                </div>
                
            {% endfor %}

    <style>
        .pill {
            height: 12px;
            width: 12px;
            border-radius: 50%;
        }
    </style>

    <a class='btn btn-dark m-4' href="{{ path('app_categorie_new') }}"> Add +</a>

    <table class='table table-dark table-hover w-50 m-auto'>
        <thead>
            <th>Nom</th>
            <th>Couleur</th>
            <th>Editer</th>
            <th>Supprimer</th> 
        </thead>
        <tbody>
            {% for categorie in categories %}
                <tr>
                    <td> {{categorie.name}} </td>
                    <td> 
                        <div class="pill me-2" style="background-color: {{ categorie.color }}"></div>
                    </td>                
                    <td><a href="{{ path('app_categorie_edit', { id:categorie.id }) }}"><button>Editer</button></a></td>
                    <td>
                    <form action="{{ path('app_categorie_delet', { id:categorie.id }) }}" method="post">

                        <input type="hidden" name='token' value="{{ csrf_token('delet-categorie-'~ categorie.id) }}">
                        <button>Supprimer</button>
                    
                    </form></td>

                   
                </tr>    
            
            
            
            {% endfor %}
        
        
        
        </tbody>



    </table>






{% endblock %}